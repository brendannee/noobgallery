extends layout
block content
  .gallery-wrapper
    h1.gallery-title= galleryTitle
    .gallery-description= description
    .gallery.gallery-index
      .grid-sizer
      .gutter-sizer
      each gallery in galleries
        div(class=`grid-item ${gallery.imageSize.width > gallery.imageSize.height * 2 ? 'grid-item--width2' : ''}`)
          a.photo-link(href=`gallery/${gallery.galleryId}/${config.useIndexFile !== 'false' ? 'index.html' : ''}`)
            img(src=`${gallery.medium}` data-aspect-ratio=`${gallery.imageSize.width/gallery.imageSize.height}`)
            .photo-link-title= _.startCase(gallery.galleryId)
  
  script(src=`${config.assetPath}/masonry-layout/masonry.pkgd.min.js`)
  script(src=`${config.assetPath}/imagesloaded/imagesloaded.pkgd.min.js`)
  script(src=`${config.assetPath}/js/main.js`)
